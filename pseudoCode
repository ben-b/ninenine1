message = GoogleText::Message.unread

if reduced_to_ten_digits(message.@display_number) in list_of_dispatchers_numbers then
	text = message.@text

	recipient_groups	= split(text.left_of("!!"))
	body 			= split(text.right_of("!!"))
	
	recipient_groups.each { |group|

		group.each { |recipient|

			send_sms(recipient,body)
		}
	}
  else
	# well, all kinds of things could happen here
	# let's just assume for now that the text gets
	# passed to all the dispatchers to be dealt
	# with manually

	# that is, assuming we can find to a way to make gv cough
	# up a list of the forwarding numbers

	# assuming that...

	dispatchers.each { |recipient|

		send_sms(recipient, body)
	}

end
